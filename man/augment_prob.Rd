% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mab_assign.R
\name{augment_prob}
\alias{augment_prob}
\title{Control Augmentation for Treatment Assignment}
\usage{
augment_prob(assignment_probs, control_augment, conditions, algorithm)
}
\arguments{
\item{assignment_probs}{Named numeric vector; contains probabilities of
assignment with the control condition named "Control".}

\item{control_augment}{A numeric value ranging from 0 to 1; proportion of each wave guaranteed to receive the "Control" treatment.
Default is 0.}

\item{conditions}{A named character vector containing treatment conditions. The elements
of this vector should be the names of each treatment as seen in your data, so to create it you can simply call
\code{unique(df[[condition_col_name]])}. The names of each element are used to reference the contents but are not inherently important;
choose names that are meaningful and consistent. If \code{control_augment} > 0, then the control condition
of the trial in this vector must have the name "Control".}

\item{algorithm}{A character string specifying the MAB algorithm to use. Options are "Thompson" or "UCB1".}
}
\value{
Named numeric vector with updated probabilities
}
\description{
Adjusts Probabilities of Assignment to match a control augmentation framework.
If probability threshold is not meant, values are adjusted uniformly to augment the control probability.
}
\details{
Control Augmentation is performed by checking if the condition
named "Control" is below the threshold if so, the other probabilities
are taken form evenly to make up the difference. If this causes any
probability to become negative, the difference to make it positive
is split between the non-negative non-control treatments, and added. This negative
checking is recursively called at most 50 times, when this limit is reached,
all negative probabilities are turned to 0 with not redistribution.
}
\keyword{internal}
