% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/impute_success.R
\name{impute_success}
\alias{impute_success}
\title{Imputing New Outcomes under MAB Trial}
\usage{
impute_success(
  current_data,
  imputation_info,
  id_col,
  success_col,
  prior_data = NULL,
  perfect_assignment,
  dates = NULL,
  success_date_col,
  current_period = NULL
)
}
\arguments{
\item{current_data}{Updated \code{data} object containing new treatments from \code{\link[=assign_treatments]{assign_treatments()}} to impute outcomes for}

\item{imputation_info}{\code{data} object containing probabilities of success from the original experiment, to impute outcomes from.
Created by \code{\link[=imputation_prep]{imputation_prep()}}}

\item{id_col}{Column in data, contains unique id as a key.}

\item{success_col}{Column in data; Binary successes from original experiment.}

\item{prior_data}{\code{data} object from previous periods. Joined together at the end for the next iteration of the simulation.}

\item{perfect_assignment}{A logical value; if TRUE, assumes perfect information for treatment assignment
(i.e., all outcomes are observed regardless of the date).
If FALSE, hides outcomes not yet theoretically observed, based
on the dates treatments would have been assigned for each wave.
This is useful when simulating batch-based assignment where treatments were assigned
on a given day whether or not all the information from a prior batch was available and
you have exact dates treatments were assigned.}

\item{dates}{Named date vector; Contains average success date by treatment block to impute new success dates for
observations whose change in treatment changes their outcome from failure to success.}

\item{success_date_col}{Column in data, contains original dates each success occurred; only necessary when 'perfect_assignment' = FALSE.}

\item{current_period}{Numeric scalar; current treatment wave of the simulation.}
}
\description{
Imputes Outcomes for the current treatment assignment period.
Uses\link[randomizr:block_and_cluster_ra]{randomizr::block_and_cluster_ra} to impute success of the new treatments based on data from the original trial
}
\seealso{
\itemize{
\item \code{\link[=run_mab_trial]{run_mab_trial()}}
\item \code{\link[=imputation_prep]{imputation_prep()}}
\item \code{\link[randomizr:block_and_cluster_ra]{randomizr::block_and_cluster_ra()}}
\item \code{\link[randomizr:cluster_ra]{randomizr::cluster_ra()}}
}
}
\keyword{internal}
