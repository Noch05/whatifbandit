% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/multiple_mab_simulation.R
\name{multiple_mab_simulation}
\alias{multiple_mab_simulation}
\title{Conducts Multiple Multi-Arm Bandit Trials with Adapative Inference in Parallel}
\usage{
multiple_mab_simulation(
  data,
  time_unit,
  perfect_assignment,
  algorithm,
  period_length = NULL,
  prior_periods,
  whole_experiment,
  conditions,
  blocking,
  block_cols = NULL,
  date_col,
  month_col = NULL,
  id_col,
  condition_col,
  success_col,
  success_date_col = NULL,
  assignment_date_col = NULL,
  assigment_method,
  verbose,
  times,
  seeds,
  keep_data
)
}
\arguments{
\item{data}{A data frame, tibble or data.table that provides the input data for the trial.}

\item{time_unit}{A string specifying the unit of time for assigning periods when 'assignment_method` is 'date'
Acceptable values are "Day", "Week", or "Month".}

\item{perfect_assignment}{Logical; if TRUE, assumes perfect information for treatment assignment
(i.e., all outcomes are observed regardless of the date).
If FALSE, hides outcomes not yet theoretically observed, based
on the dates treatments would have been assigned for each wave.}

\item{algorithm}{A string specifying the MAB algorithm to use. Options are "Thompson" or "UCB1".}

\item{period_length}{Numeric; length of each treatment period.
If assignment method is "Date", this refers to the
length of periods by your specified \code{time_unit} (i.e., if "Day", 10 would be 10 days).
If assignment methods is "Batch", this refers to the number of people in each batch.}

\item{prior_periods}{Numeric; number of previous periods to use in the treatment assignment model
or specify string "All" to use all previous periods.}

\item{whole_experiment}{Logical; if TRUE, uses all past experimental data for imputing outcomes.
If FALSE, uses only data available up to the current period.}

\item{conditions}{Named Character vector containing treatment conditions.
Control condition, must be named "Control" when 'control_augment' > 0.}

\item{blocking}{Logical; Whether or not to use treatment blocking.}

\item{block_cols}{Character Vector of variables to block by.}

\item{verbose}{Logical; Toggles progress bar from \link[furrr:future_map]{furrr::future_map}.}

\item{times}{Numeric; number of simulations to conduct.}

\item{seeds}{Numeric vector of \code{length(times)} containing valid seeds to define random state for each trial.}

\item{keep_data}{Logical; Whether or not to keep the final data from each trial. Recommended FALSE for large datasets.}
}
\value{
A custom S3 class multiple.mab object, which is a named list containing:
\item{final_data_nest}{Data.frame containing a nested data.frame with the final data from each trial}
\item{bandits}{Data.frame containing the Thompson/UCB1 statitics across all treatments, periods, and trials}
\item{estimates}{Data.frame containing the AIPW statitics across all treatments, and trials}
\item{settings}{A list of the configuration settings used in the trial.}
}
\description{
This function provides an easy way to repeat the Multi-Arm Bandit Simulations
conducted by \code{\link[=single_mab_simulation]{single_mab_simulation()}} with different random states. Allows for
parallel processing using \code{\link[future:plan]{future::plan()}} and \code{\link[furrr:future_map]{furrr::future_map()}}.
}
\seealso{
\itemize{
\item \code{\link[=run_mab_trial]{run_mab_trial()}}
\item \code{\link[=get_adaptive_aipw]{get_adaptive_aipw()}}
\item \code{\link[=check_args]{check_args()}}
\item \code{\link[=single_mab_simulation]{single_mab_simulation()}}
\item \code{\link[=mab_simulation]{mab_simulation()}}
\item \code{\link[=mab_prepare]{mab_prepare()}}
\item \code{\link[furrr:future_map]{furrr::future_map()}}
\item \link[future:plan]{future::plan}
}
}
