% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mab_sample.R
\name{mab_sample}
\alias{mab_sample}
\title{Calculate Posterior/UCB1 for Treatment in a Period}
\usage{
mab_sample(
  data,
  algorithm,
  prior,
  current_period,
  perfect_assignment,
  conditions,
  assignment_date_col,
  success_date_col
)
}
\arguments{
\item{data}{A data frame that provides the input data for the trial.}

\item{algorithm}{A string specifying the MAB algorithm to use. Options are "Thompson" or "UCB1".}

\item{prior}{Numeric vector containing the prior periods to be used for the treatment assignment}

\item{current_period}{The current period of the simulation. Defined by loop structure inside \code{\link[=run_mab_trial]{run_mab_trial()}}.}

\item{perfect_assignment}{Logical; if TRUE, assumes perfect information for treatment assignment
(i.e., all outcomes are observed regardless of the date).
If FALSE, hides outcomes not yet theoretically observed, based on
\code{letter_sent_date} from the \code{tanf} dataset.}

\item{conditions}{Named Character vector containing treatment conditions, Control condition, must be named "Control".}

\item{assignment_date_col}{Column in data, contains date of wave assignment.}

\item{success_date_col}{Column in data, contains date each success occurred.}
}
\value{
The bandit object for the given period. For Thompson, this is a named numeric vector
of the posterior probabilities. For UCB1, this is a data frame containing UCB1 calculation for
each treatment
}
\description{
Calculates the best treatment for a given period using either a UCB1 or Thompson Sampling Algorithm
and a vector of prior periods. Used to determine the assignment for a given wave. Used during \code{\link[=run_mab_trial]{run_mab_trial()}}
at each period. Allows for the simulation of perfect/imperfect information in the calculation based on the known successes
at the time of the calculation. For \code{tanf} assumed to be the \code{letter_sent_date} in each month.
}
\seealso{
\itemize{
\item \code{\link[=run_mab_trial]{run_mab_trial()}}
\item \code{\link[=get_past_results]{get_past_results()}}
}
}
