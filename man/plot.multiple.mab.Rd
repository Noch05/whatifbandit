% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/multiple_mab_methods.R
\name{plot.multiple.mab}
\alias{plot.multiple.mab}
\title{Plot Generic for \code{multiple.mab} objects}
\usage{
\method{plot}{multiple.mab}(
  x,
  type,
  estimator = NULL,
  cdf = NULL,
  level = 0.95,
  save = FALSE,
  path = NULL,
  ...
)
}
\arguments{
\item{x}{\code{multiple.mab} class object created by \code{\link[=multiple_mab_simulation]{multiple_mab_simulation()}}}

\item{type}{String; Type of plot requested; valid types are:
\itemize{
\item \code{summary}: Shows the number of times each arm was selected as the highest chance of being the best.
\item \code{hist}: Shows histograms for each treatment condition's proportion of success across trials.
\item \code{estimate}: Shows proportion of success estimates using specified normal or empirical confidence intervals.
}}

\item{estimator}{Estimator to plot; Either "AIPW", "Sample" or "Both"; used by \code{hist} and \code{estimate}.}

\item{cdf}{String; specifies the type of CDF to use when analyzing the estimates.
valid CDFs are the 'empirical' CDF, the 'normal' CDF. Used when type = \code{estimate}. The 'normal' CDF uses the fact
that the AIPW estimates are asymptotically normal, while the empirical CDF estimates the CDF from the sample
of AIPW estimates.}

\item{level}{Numeric value of length 1; indicates confidence interval Width (i.e 0.90, .95, 0.99).
Defaults to 0.95}

\item{save}{Logical; Whether or not to save the plot to disk; FALSE by default.}

\item{path}{String; File directory to save file.}

\item{...}{arguments to pass to \verb{ggplot2:geom_*} function (e.g. \code{color}, \code{linewidth}, \code{alpha}, \code{bins} etc.)}
}
\value{
Minimal ggplot object, that can be customized and added to with \code{+} (To change, scales, labels, legend, theme, etc.)
}
\description{
Uses \code{\link[ggplot2:ggplot]{ggplot2::ggplot()}} to plot the results of multiple
Multi-Arm Bandit Trials
}
\details{
The plot generic requires \href{https://cran.r-project.org/package=ggplot2}{ggplot2}
which is not required by the package, so it must be installed manually if necessary.

This function provides minimalist plots to quickly view the results of the procedure
and has the ability to be customized through the \code{...}
in the call and \code{+} afterwords. However, all the data necessary is
provided in the output of \code{\link[=multiple_mab_simulation]{multiple_mab_simulation()}} for extreme
customization or professional plots, it is highly recommended
to start completely from scratch and not use the generic.
}
\examples{
# Objects returned by `single_mab_simulation()` have a `mab` class.
# This class has a plot generic has several minimal plots to examine the trials
# quickly
#
# # These functions require ggplot2
if (requireNamespace("ggplot2", quietly = TRUE)) {
  data(tanf)
  # Subsetting to make the example faster
  tanf <- tanf[1:20, ]
  # Simulating a few trials

  seeds <- sample.int(100, 5)
  conditions <- as.character(unique(tanf$condition))
  x <- multiple_mab_simulation(
    data = tanf,
    assignment_method = "Batch",
    period_length = 10,
    whole_experiment = TRUE,
    blocking = FALSE,
    perfect_assignment = TRUE,
    algorithm = "Thompson",
    prior_periods = "All",
    control_augment = 0,
    conditions = conditions,
    data_cols = c(
      condition_col = "condition",
      id_col = "ic_case_id",
      success_col = "success"
    ),
    verbose = FALSE, times = 5, seeds = seeds, keep_data = FALSE
  )

  # The plot generic has several options
  # Specify type = summary, to get a bar graph showing each time
  # a treatment group was selected as the best.
  plot(x, type = "summary")

  # type = hist, creates a histogram of AIPW, Sample, or Both estimates for each
  # treatment over each trial
  plot(x, type = "hist", estimator = "AIPW")

  # type = estimate creates a similar error bar plot like in plot.mab()
  # but here the empirical variance of the estimate can be used instead
  plot(x, type = "estimate", estimator = "AIPW", cdf = "empirical")

  # These plots can be added to like any ggplot2 object
  plot(x, type = "summary") + ggplot2::labs(title = "Your New Title")

  # Each only uses 1 geom, so arguments for them can be added in the function call
  plot(x, type = "hist", estimator = "AIPW", binwidth = 0.05)
}
}
