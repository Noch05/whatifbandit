% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/input_validation.R
\name{check_cols}
\alias{check_cols}
\title{Checking existence and declaration of columns}
\usage{
check_cols(
  assignment_method,
  time_unit,
  perfect_assignment,
  data_cols,
  data,
  verbose
)
}
\arguments{
\item{assignment_method}{A character string; one of "Date", "Batch", or "Individual", to define the assignment into treatment waves. When using
"Batch" or "Individual", ensure your dataset is pre-arranged in the proper order observations should be considered so that
groups are assigned correctly. For "Date", observations will be considered in chronological order.
"Individual" assignment can be time-consuming for larger datasets.}

\item{time_unit}{A character string specifying the unit of time for assigning periods when \code{assignment_method} is "Date".
Acceptable values are "Day", "Week", or "Month". "Month" is a special case that is useful when an experiment
defines the months differently then the genuine dates, i.e. an experiment considers August as starting
the in the second half of July, or when exact calender months are required for the periods, not just
a lengths of time in the month range. As such it requires an additional column to be provided,
with the exact month desired for each observation passed as an integer, character, or factor. Each
observation is treated as occurring on the first of each month.}

\item{perfect_assignment}{A logical value; if TRUE, assumes perfect information for treatment assignment
(i.e., all outcomes are observed regardless of the date).
If FALSE, hides outcomes not yet theoretically observed, based
on the dates treatments would have been assigned for each wave.
This is useful when simulating batch-based assignment where treatments were assigned
on a given day whether or not all the information from a prior batch was available and
you have exact dates treatments were assigned.}

\item{data_cols}{A named character vector containing the names of columns in \code{data} as strings:
\itemize{
\item \code{id_col}: Column in \code{data}; contains unique ID as a key.
\item \code{success_col}: Column in \code{data}; binary successes from the original experiment.
\item \code{condition_col}: Column in \code{data}; original treatment condition for each observation.
\item \code{date_col}: Column in \code{data}; contains original date of event/trial. Only necessary when assigning by "Date". Must be of type \code{Date}, not a character string.
\item \code{month_col}: Column in \code{data}; contains month of treatment. Only necessary when \code{time_unit = "Month"}. This can be a string or factor variable
containing the names or numbers of months.
\item \code{success_date_col}: Column in \code{data}; contains original dates each success occurred. Only necessary when \code{perfect_assignment = FALSE}. Must be of type \code{Date}, not a character string.
\item \code{assignment_date_col}: Column in \code{data}; contains original dates treatments were assigned to observations. Only necessary when \code{perfect_assignment = FALSE}.
Used to simulate imperfect information on the part of researchers conducting an adaptive trial. Must be of type \code{Date}, not a character string.
}}

\item{data}{A data.frame, data.table, or tibble containing input data from the trial. This should be the results
of a traditional Randomized Controlled Trial (RCT). data.frames will be converted to tibbles internally.}

\item{verbose}{A logical value; whether or not to print intermediate messages. Default is FALSE.}
}
\value{
Throws an error if columns which are required have not been declared
or are not present in the data. Additionally throws warning messages,
if unnecessary columns have been provided.
}
\description{
Helper to \code{\link[=validate_inputs]{validate_inputs()}}. This function accepts the user's
settings for the Multi-Arm-Bandit trial, and checks whether columns in the data have been properly
specified based on these settings.
}
\keyword{internal}
